{"remainingRequest":"D:\\Projects\\Chat app\\libak-chat\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\Chat app\\libak-chat\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Projects\\Chat app\\libak-chat\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Projects\\Chat app\\libak-chat\\src\\components\\LibakChat.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Projects\\Chat app\\libak-chat\\src\\components\\LibakChat.vue","mtime":1636802541400},{"path":"D:\\Projects\\Chat app\\libak-chat\\babel.config.js","mtime":1636634221067},{"path":"D:\\Projects\\Chat app\\libak-chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\Chat app\\libak-chat\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projects\\Chat app\\libak-chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\Chat app\\libak-chat\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHNvY2tldCBmcm9tICcuLi9zb2NrZXQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpYmFrQ2hhdCcsCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuZGlzY29ubmVjdCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBzb2NrZXQuY29ubmVjdCgpOwogICAgc29ja2V0Lm9uKCdjaGF0IG1lc3NhZ2UnLCBmdW5jdGlvbiAobXNnLCB1c2VyLCB1c2VycGljKSB7CiAgICAgIF90aGlzLm1lc3NhZ2VzLnB1c2goewogICAgICAgIHVzZXI6IHVzZXIsCiAgICAgICAgbWVzc2FnZTogbXNnLAogICAgICAgIHVzZXJwaWM6IHVzZXJwaWMKICAgICAgfSk7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zY3JvbGxCb3R0b20oKTsKICAgICAgfSwgMTAwKTsKICAgIH0pOwogICAgc29ja2V0Lm9uKCdob3N0IG1lc3NhZ2UnLCBmdW5jdGlvbiAoaG9zdE1zZywgcm9vbU5vKSB7CiAgICAgIF90aGlzLm1lc3NhZ2VzLnB1c2goewogICAgICAgIGhvc3RNc2c6IGhvc3RNc2cKICAgICAgfSk7CgogICAgICBfdGhpcy5PbGRSb29tSUQgPSByb29tTm87CiAgICB9KTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZXNzYWdlczogW10sCiAgICAgIGhvc3RNZXNzYWdlOiBbXSwKICAgICAgY3VycmVudFVzZXI6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJuYW1lLAogICAgICBpbnB1dDogJycsCiAgICAgIGltZ1ByZVVybDogJ2h0dHBzOi8vYXZhdGFycy5kaWNlYmVhci5jb20vYXBpL21pY2FoLycsCiAgICAgIGV4dFVybDogJy5zdmcnLAogICAgICByb29tUGlja2VkOiBmYWxzZSwKICAgICAgT2xkUm9vbUlEOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRpc2Nvbm5lY3Q6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7CiAgICAgIHNvY2tldC5kaXNjb25uZWN0KCk7CiAgICB9LAogICAgcGlja1Jvb206IGZ1bmN0aW9uIHBpY2tSb29tKHJvb20pIHsKICAgICAgc29ja2V0LmVtaXQoJ2pvaW4gcm9vbScsIHJvb20sICIiLmNvbmNhdCh0aGlzLmN1cnJlbnRVc2VyLCAiIGhhcyBqb2luZWQgdGhlIHJvb20uIikpOwogICAgICB0aGlzLm1lc3NhZ2VzID0gW107CiAgICAgIHRoaXMucm9vbVBpY2tlZCA9IHRydWU7CgogICAgICBpZiAodGhpcy5PbGRSb29tSUQpIHsKICAgICAgICBzb2NrZXQuZW1pdCgnbGVhdmUgcm9vbScsIHRoaXMuT2xkUm9vbUlELCAiIi5jb25jYXQodGhpcy5jdXJyZW50VXNlciwgIiBoYXMgbGVmdCB0aGUgcm9vbS4iKSk7CiAgICAgIH0KICAgIH0sCiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UobXNnKSB7CiAgICAgIHZhciB1c2VycGljID0gdGhpcy5pbWdQcmVVcmwgKyB0aGlzLmN1cnJlbnRVc2VyICsgdGhpcy5leHRVcmw7CiAgICAgIHNvY2tldC5lbWl0KCdtZXNzYWdlJywgbXNnLCB0aGlzLmN1cnJlbnRVc2VyLCB1c2VycGljKTsKICAgICAgdGhpcy5pbnB1dCA9ICcnOwogICAgfSwKICAgIHNjcm9sbEJvdHRvbTogZnVuY3Rpb24gc2Nyb2xsQm90dG9tKCkgewogICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdGJveCcpOwogICAgICBlbC5sYXN0RWxlbWVudENoaWxkLnNjcm9sbEludG9WaWV3KHsKICAgICAgICBiZWhhdmlvcjogInNtb290aCIsCiAgICAgICAgYmxvY2s6ICJlbmQiLAogICAgICAgIGlubGluZTogIm5lYXJlc3QiCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\Projects\\Chat app\\libak-chat\\src\\components\\LibakChat.vue"],"names":[],"mappings":"AAkEA,OAAO,MAAP,MAAmB,WAAnB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,WADK;AAEX,EAAA,OAFW,qBAED;AACN,IAAA,QAAQ,CAAC,gBAAT,CAA0B,cAA1B,EAA0C,KAAK,UAA/C;AACH,GAJU;AAKX,EAAA,OALW,qBAKD;AAAA;;AACN,IAAA,MAAM,CAAC,OAAP;AACA,IAAA,MAAM,CAAC,EAAP,CAAU,cAAV,EAA0B,UAAC,GAAD,EAAM,IAAN,EAAY,OAAZ,EAAwB;AAC9C,MAAA,KAAI,CAAC,QAAL,CAAc,IAAd,CAAmB;AACf,QAAA,IAAI,EAAE,IADS;AAEf,QAAA,OAAO,EAAE,GAFM;AAGf,QAAA,OAAO,EAAE;AAHM,OAAnB;;AAKA,MAAA,UAAU,CAAC,YAAK;AAAC,QAAA,KAAI,CAAC,YAAL;AAAoB,OAA3B,EAA6B,GAA7B,CAAV;AACH,KAPD;AAQA,IAAA,MAAM,CAAC,EAAP,CAAU,cAAV,EAA0B,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC3C,MAAA,KAAI,CAAC,QAAL,CAAc,IAAd,CAAmB;AACf,QAAA,OAAO,EAAE;AADM,OAAnB;;AAGA,MAAA,KAAI,CAAC,SAAL,GAAiB,MAAjB;AACH,KALD;AAMH,GArBU;AAsBX,EAAA,IAtBW,kBAsBJ;AACH,WAAO;AACH,MAAA,QAAQ,EAAE,EADP;AAEH,MAAA,WAAW,EAAE,EAFV;AAGH,MAAA,WAAW,EAAE,KAAK,MAAL,CAAY,KAAZ,CAAkB,QAH5B;AAIH,MAAA,KAAK,EAAE,EAJJ;AAKH,MAAA,SAAS,EAAE,yCALR;AAMH,MAAA,MAAM,EAAE,MANL;AAOH,MAAA,UAAU,EAAE,KAPT;AAQH,MAAA,SAAS,EAAE;AARR,KAAP;AAUH,GAjCU;AAkCX,EAAA,OAAO,EAAE;AACL,IAAA,UADK,wBACQ;AACT,MAAA,MAAM,CAAC,UAAP;AACH,KAHI;AAIL,IAAA,QAJK,oBAII,IAJJ,EAIU;AACX,MAAA,MAAM,CAAC,IAAP,CAAY,WAAZ,EAAyB,IAAzB,YAAkC,KAAK,WAAvC;AACA,WAAK,QAAL,GAAgB,EAAhB;AACA,WAAK,UAAL,GAAkB,IAAlB;;AACA,UAAG,KAAK,SAAR,EAAmB;AACf,QAAA,MAAM,CAAC,IAAP,CAAY,YAAZ,EAA0B,KAAK,SAA/B,YAA6C,KAAK,WAAlD;AACJ;AACH,KAXI;AAYL,IAAA,WAZK,uBAYO,GAZP,EAYY;AACb,UAAI,OAAM,GAAI,KAAK,SAAL,GAAiB,KAAK,WAAtB,GAAoC,KAAK,MAAvD;AACA,MAAA,MAAM,CAAC,IAAP,CAAY,SAAZ,EAAuB,GAAvB,EAA4B,KAAK,WAAjC,EAA8C,OAA9C;AACA,WAAK,KAAL,GAAa,EAAb;AACH,KAhBI;AAiBL,IAAA,YAjBK,0BAiBS;AACV,UAAI,EAAC,GAAI,QAAQ,CAAC,cAAT,CAAwB,SAAxB,CAAT;AACA,MAAA,EAAE,CAAC,gBAAH,CAAoB,cAApB,CAAmC;AAAC,QAAA,QAAQ,EAAE,QAAX;AAAqB,QAAA,KAAK,EAAE,KAA5B;AAAmC,QAAA,MAAM,EAAE;AAA3C,OAAnC;AACJ;AApBK;AAlCE,CAAf","sourcesContent":["<template>\n    <div class=\"columns\">\n        <div class=\"column is-2\" style=\"background-color: #a01af3;\">\n            <aside class=\"menu\">\n                <ul class=\"menu-list\">\n                    <div class=\"container subtitle\" style=\"padding: 5px\">\n                        <li>\n                            <button class=\"dropdown-item button\" @click=\"pickRoom(2021)\" :disabled=\"OldRoomID == 2021\">Opptemom Prime</button>\n                        </li>\n                        <li>\n                            <button class=\"dropdown-item button\" @click=\"pickRoom(2025)\" :disabled=\"OldRoomID == 2025\">Cocomelon</button>\n                        </li>\n                        <li>\n                            <button class=\"dropdown-item button\" @click=\"pickRoom(2030)\" :disabled=\"OldRoomID == 2030\">Flazymama</button>\n                        </li>\n                        <li>\n                            <button class=\"dropdown-item button\" @click=\"pickRoom(2050)\" :disabled=\"OldRoomID == 2050\">Red Horse</button>\n                        </li>\n                        <li>\n                            <button class=\"dropdown-item button\" @click=\"pickRoom(2075)\" :disabled=\"OldRoomID == 2075\">Only judge can god me</button>\n                        </li>\n                    </div>\n                </ul>\n            </aside>\n        </div>\n        <div class=\"column\" v-if=\"!roomPicked\"><h1 class=\"title has-text-centered\" id=\"pickRoomDialogue\" style=\"margin-top: 50vh\">Pick a room to start chatting!</h1></div>\n        <div class=\"column\" v-if=\"roomPicked\">\n            <div class=\"box\" id=\"chatbox\" style=\"width: 100%; margin: auto; height: 94vh; overflow: auto;\">\n                <div class=\"container\" v-for=\"(message, index) in messages\" :key=\"index\">\n                    <div class=\"has-text-centered\">\n                        <span\n                            v-if=\"message.hostMsg != null\"\n                            class=\"notification has-text-info\"\n                        ><b>{{ message.hostMsg }}</b></span>\n                    </div>\n                    \n                    <div v-if=\"message.message != null\" class=\"content\" >\n                        <h3 ><img :src=\"message.userpic\">\n                            <b>{{ message.user }}: {{ message.message }}</b><br/>\n                        </h3>\n                    </div>\n                </div>\n            </div>\n            <div class=\"field has-addons\" >\n                <p class=\"control\" style=\"width: 100%;\">\n                    <input\n                        type=\"input\"\n                        class=\"input\"\n                        v-model=\"input\"\n                        placeholder=\"Type something...\"\n                    />\n                </p>\n                <p class=\"control\">\n                    <button\n                        class=\"button is-info\"\n                        type=\"button\"\n                        :disabled=\"input == ''\"\n                        @click=\"sendMessage(this.input)\"\n                    >Send</button>\n                </p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport socket from '../socket'\n\nexport default {\n    name: 'LibakChat',\n    created() {\n        document.addEventListener('beforeunload', this.disconnect)\n    },\n    mounted() {\n        socket.connect()\n        socket.on('chat message', (msg, user, userpic) => {\n            this.messages.push({\n                user: user,\n                message: msg,\n                userpic: userpic\n            });\n            setTimeout(()=> {this.scrollBottom()}, 100)\n        });\n        socket.on('host message', (hostMsg, roomNo) => {\n            this.messages.push({\n                hostMsg: hostMsg\n            });\n            this.OldRoomID = roomNo\n        });\n    },\n    data() {\n        return {\n            messages: [],\n            hostMessage: [],\n            currentUser: this.$store.state.username,\n            input: '',\n            imgPreUrl: 'https://avatars.dicebear.com/api/micah/',\n            extUrl: '.svg',\n            roomPicked: false,\n            OldRoomID: ''\n        }\n    },\n    methods: {\n        disconnect() {\n            socket.disconnect();\n        },\n        pickRoom(room) {\n            socket.emit('join room', room, `${this.currentUser} has joined the room.`)\n            this.messages = []\n            this.roomPicked = true\n            if(this.OldRoomID) {\n                socket.emit('leave room', this.OldRoomID, `${this.currentUser} has left the room.`)\n            }\n        },\n        sendMessage(msg) {\n            let userpic = this.imgPreUrl + this.currentUser + this.extUrl\n            socket.emit('message', msg, this.currentUser, userpic)\n            this.input = ''\n        },\n        scrollBottom(){\n            let el = document.getElementById('chatbox')\n            el.lastElementChild.scrollIntoView({behavior: \"smooth\", block: \"end\", inline: \"nearest\"});\n        }\n    }\n}\n</script>\n\n<style scoped>\nimg {\n    width: 5%;\n}\n@media (max-width: 991.98px){\n    img {\n        width: 15%\n    }\n    #pickRoomDialogue {\n        margin-top: 0px !important\n    }\n    #chatbox {\n        height: 65vh !important\n    }\n}\n</style>"],"sourceRoot":""}]}